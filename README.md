# Домашнее задание к занятию "`Домашнее задание к занятию «Базы данных, их типы»`" - `Голоха Е.В.`



### Задание 1
Задание 1. СУБД
1.1. Бюджетирование и аналитика
Тип СУБД:
Реляционная СУБД (SQL) — например, PostgreSQL, Oracle или MS SQL Server.

Почему:

Гарантирует целостность данных (ACID).

Чёткая схема, строгие типы данных.

Поддерживает аналитические запросы, оконные функции, хранимые процедуры.

1.1
Если хеширование стало узким местом:

Использовать API с аппаратным ускорением (например, через OpenSSL или Intel IPP).

Также можно ускорить хеширование с помощью асинхронных/многопоточных API — например, Rust Crypto, Go crypto/sha256, libsodium.

1.2. Лендинги и CRM
Тип СУБД:
Для лендингов — NoSQL (например, MongoDB, Redis).
Для CRM — SQL (например, PostgreSQL или MySQL), или гибридные решения.

Почему:

Лендинги требуют быстрой записи, масштабируемости, простоты.

CRM требует транзакций, связей между пользователями, лидами, действиями.

1.2
Можно использовать одну СУБД, например:

PostgreSQL с JSONB — сочетает реляционную и документную модель.

Couchbase — сочетает in-memory скорость и document storage.

Это позволит обрабатывать лиды и одновременно вести CRM в одной базе.

1.3. База знаний отдела качества
Тип СУБД:
Реляционная СУБД или документная СУБД (MongoDB).

Почему:

Простая структура, можно легко отобразить в виде таблиц, документов или иерархий.

1.3
Да, можно использовать PostgreSQL или MongoDB, уже применяемые выше:

Для PostgreSQL — создать отдельную схему (schema) или базу данных в том же кластере.

Для MongoDB — отдельная коллекция в базе, документы можно хранить с вложенной структурой.

1.4. Логистика и маршруты
Тип СУБД:
Графовая СУБД, например, Neo4j или ArangoDB.

Почему:

Быстрое построение маршрутов.

Эффективная работа со связями (объект — маршрут — курьер).

1.4
Можно подключить отдел закупок, если маршруты и закупки логически связаны.

Например, создать обобщённую модель поставок в Neo4j, где закупки и доставка — связанные вершины графа.

Либо — использовать общую графовую СУБД с разделением по тегам/ролям.

1.5. Одна СУБД на всё
Можно, и лучшим выбором будет PostgreSQL с гибридной структурой:

SQL-данные для бюджета и CRM.

JSONB для хранения лендингов и базы знаний.

Поддержка расширений (PostGIS, pgRouting) может частично заменить графовую БД.

Или:
ArangoDB — мульти-модель: поддерживает графы, документы, ключ-значение.

`



### Задание 2

`Задание 2. Транзакции
2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?


Пополнение баланса вручную
Шаги:

Клиент отправляет запрос на пополнение (через сайт/приложение).

Запрос валидируется (номер телефона, сумма, платёжный метод).

Блокировка/резервирование суммы на платёжном шлюзе.

Запись транзакции в СУБД: создаётся запись с флагом pending.

Получение подтверждения от платёжной системы.

Обновление баланса и статуса транзакции → success, логирование, уведомление пользователя.

Автоплатёж:
Система запускает задачу (cron, scheduler).

Проверка условий автоплатежа (дата, лимит, сумма).

Отправка запроса в платёжную систему.

Ожидание ответа.

Обновление баланса, запись статуса.

Уведомление пользователя об успешной оплате (смс, email, push).




### Задание 3

`Задание 3. SQL vs NoSQL
3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

Приведите ответ в свободной форме.

3.1. Преимущества SQL-систем:
Строгая структура — схемы и типы данных.

ACID-гарантии — целостность и надёжность транзакций.

Сложные запросы (JOIN, агрегаты) — мощный SQL-язык.

Поддержка бизнес-логики — триггеры, процедуры.

Хорошо подходят для аналитики и отчетности.

3.1*. Преимущества NewSQL:
Объединяют гибкость масштабирования NoSQL с гарантиями SQL.

Распределённость и высокая доступность без потери ACID.

Подходят для современных веб-систем с большим трафиком.

Автоматическое масштабирование.

Часто содержат автошардирование, балансировку, интеграцию с облаками.

Примеры: CockroachDB, TiDB, Google Spanner.


### Задание 4

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

Тип данных: структурированные → SQL, полу-структурированные → NoSQL.

Объём: при Petabyte-уровне — нужна масштабируемость.

Задачи: если аналитика → OLAP, если транзакции → OLTP.
Подходящая модель:
MapReduce / Spark — для аналитики на больших данных (Batch processing).
Presto / Trino — интерактивные SQL-запросы по распределённым данным.
Apache Cassandra — если важны миллисекундные записи и масштабируемость.
ClickHouse / Druid — для анализа телеметрии, логов, временных рядов.
